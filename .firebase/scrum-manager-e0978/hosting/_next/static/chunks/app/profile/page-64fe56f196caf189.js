(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[178],{429:function(e,r,n){Promise.resolve().then(n.bind(n,9939))},9939:function(e,r,n){"use strict";n.r(r);var s=n(7437),l=n(1974),o=n(4073);n(3733),n(889);var t=n(2670),a=n(7957),i=n(7622),c=n(2265),u=n(7421),d=n(5903);r.default=(0,c.memo)(()=>{let{user:e}=(0,u.AuthContext)(),r=e.user,{handleSubmit:n,register:p,formState:{errors:m}}=(0,t.cI)({resolver:(0,a.X)(i.jE)}),{handleSubmit:f,register:h,formState:{errors:x}}=(0,t.cI)({resolver:(0,a.X)(i.Js)}),[g,j]=(0,c.useState)("none"),_=(0,c.useCallback)(()=>{"profile"===g?j("none"):j("profile")},[g]),b=(0,c.useCallback)(()=>{"password"===g?j("none"):j("password")},[g]),v=async e=>{await (0,d.ck)(r,{displayName:e.user_name,photoURL:e.icon_url}),e&&(0,d.ck)(r,{displayName:e.user_name,photoURL:e.icon_url}).then(e=>{console.log("profile successfully changed",e),j("none")}).catch(e=>{console.log("errors",null==e?void 0:e.message)})},w=(0,c.useCallback)(e=>{(0,d.gQ)(r,e.password).then(e=>{console.log("password successfully changed",e),j("none")}).catch(e=>{console.log("errors",null==e?void 0:e.message)})},[r]);return(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{children:"Добро пожаловать ".concat(null==r?void 0:r.displayName)}),(0,s.jsxs)("span",{children:[(0,s.jsxs)("span",{children:["Имя: ",null==r?void 0:r.displayName]}),(0,s.jsxs)("span",{children:["Email: ",null==r?void 0:r.email]}),(0,s.jsxs)("span",{children:["URL фото: ",null==r?void 0:r.icon_url]}),(0,s.jsx)("button",{onClick:_,children:" редактировать профиль "}),(0,s.jsx)("button",{onClick:b,children:" изменить пароль "})]}),"profile"===g?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("form",{onSubmit:n(v),children:[(0,s.jsx)(l.Z,{register:p,error:m.user_name,type:"text",placeholder:" Введите ваше имя...",name:"user_name",label:"Имя"}),(0,s.jsx)(l.Z,{register:p,error:m.icon_url,type:"text",placeholder:" Ссылка на фото...",name:"icon_url",label:"URL фото"}),(0,s.jsx)(o.Z,{label:"Обновить профиль"})]})}):null,"password"===g&&(0,s.jsxs)("form",{onSubmit:f(w),children:[(0,s.jsx)(l.Z,{register:h,error:x.password,type:"password",placeholder:" Введите пароль...",name:"password",label:"Пароль"}),(0,s.jsx)(l.Z,{register:h,error:x.confirm_password,type:"password",placeholder:" Подтвердите пароль...",name:"confirm_password",label:"Подтвердите пароль"}),(0,s.jsx)(o.Z,{label:"Обновить пароль"})]})]})})})},7421:function(e,r,n){"use strict";n.r(r),n.d(r,{AuthContext:function(){return a}});var s=n(7437),l=n(2265),o=n(7313);let t=(0,l.createContext)({}),a=()=>(0,l.useContext)(t);r.default=e=>{let{children:r}=e,[n,a]=(0,l.useState)(!0),[i,c]=(0,l.useState)({user:null,isLogin:!1});return(0,l.useEffect)(()=>o.I.onAuthStateChanged(e=>{c({isLogin:!!e,user:e}),a(!1)}),[]),console.log("useState",i.user),(0,s.jsxs)(t.Provider,{value:{user:i,setUser:c},children:[n&&(0,s.jsx)("div",{className:"h-screen flex w-full justify-center item-center",children:" Загрузка "}),!n&&r]})}},7313:function(e,r,n){"use strict";n.d(r,{I:function(){return t}});var s=n(6142),l=n(2738);let o=(0,s.ZF)({apiKey:"AIzaSyA9gyR2Vzlx4Wbp0nLY7JnTGPwYk2rkxMQ",authDomain:"scrum-manager-e0978.firebaseapp.com",projectId:"scrum-manager-e0978",storageBucket:"scrum-manager-e0978.appspot.com",messagingSenderId:"116287469649",appId:"1:116287469649:web:582bb4f590465ef21d6070"}),t=(0,l.v0)(o)},7622:function(e,r,n){"use strict";n.d(r,{Js:function(){return i},dm:function(){return o},gY:function(){return t},jE:function(){return a}});var s=n(1991);let l={email:s.Z_().email("пожалуйста введите свой email").required("пожалуйста заполните это поле"),password:s.Z_().required("пожалуйста заполните это поле").min(6,"пожалуста введите пароль")},o=s.Ry({...l}),t=s.Ry({...l,confirm_password:s.Z_().oneOf([s.iH("password")],"Пароль должен совпадать")}),a=s.Ry({user_name:s.Z_().nullable(),icon_url:s.Z_().nullable()}),i=s.Ry({password:s.Z_().required("пожалуйста заполните это поле").min(6,"пожалуста введите пароль"),confirm_password:s.Z_().oneOf([s.iH("password")],"Пароль должен совпадать")})},1974:function(e,r,n){"use strict";var s=n(7437);n(3595),r.Z=e=>{let{label:r,type:n,name:l,placeholder:o,register:t,error:a}=e;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{children:r}),(0,s.jsx)("input",{...t(l,{required:"error message"}),type:n,name:l,placeholder:o,id:"field_".concat(l)})]}),a&&(0,s.jsx)("var",{children:null==a?void 0:a.message})]})}},4073:function(e,r,n){"use strict";var s=n(7437);n(3649),r.Z=e=>{let{label:r,onClickFunk:n}=e;return(0,s.jsx)("div",{children:(0,s.jsx)("button",{onClick:n,children:r})})}},3733:function(){},889:function(){},3595:function(){},3649:function(){}},function(e){e.O(0,[54,422,342,971,69,744],function(){return e(e.s=429)}),_N_E=e.O()}]);