(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[554],{3314:function(e,n,t){Promise.resolve().then(t.bind(t,1113))},1113:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return d}});var s=t(7437),u=t(2265);t(1031);var r=t(8121),a=t(7421),i=t(7313);t(8563);var o=(0,u.memo)(e=>{let n=(0,u.useCallback)(()=>{e.onTaskClickFunc(e.CommandId)},[e]);return(0,s.jsx)("button",{className:"CommandButton",onClick:n,children:e.CommandName},e.CommandId)}),l=t(703),c={src:"/_next/static/media/pencil-edit-button-svgrepo-com.bf9237d6.svg",height:800,width:800,blurWidth:0,blurHeight:0},d=(0,u.memo)(()=>{let[e,n]=(0,u.useState)(""),[t,d]=(0,u.useState)([]),{user:m}=(0,a.AuthContext)(),f=m.user;(0,u.useEffect)(()=>{let e=(0,r.cf)((0,r.hJ)(i.db,"users",null==f?void 0:f.uid,"commands"),e=>{d(e.docs.map(e=>e.data()))});return()=>e()},[null==f?void 0:f.uid]),(0,u.useEffect)(()=>{console.log("currentCommandId",JSON.stringify(e,null,2))},[e]);let h=(0,u.useCallback)(e=>(0,s.jsx)(o,{CommandId:e.id,CommandName:e.name,onTaskClickFunc:n},e.id),[]),p=(0,u.useCallback)(async()=>{let e=crypto.randomUUID();try{await (0,r.pl)((0,r.JU)(i.db,"users",null==f?void 0:f.uid,"commands",e),{id:e,name:"Новая команда"}),n(e)}catch(e){console.log("errors",JSON.stringify(e,null,2))}},[null==f?void 0:f.uid]),C=(0,u.useMemo)(()=>t.find(n=>n.id===e),[t,e]);return(0,u.useEffect)(()=>{console.log("currentCommand",JSON.stringify(C,null,2))},[C]),(0,s.jsx)("div",{children:(0,s.jsxs)("div",{children:[(0,s.jsxs)("h1",{children:[" ",""===e?"Команды":null==C?void 0:C.name," "]}),(0,s.jsx)("div",{children:(0,s.jsxs)("a",{children:["список команд",(0,s.jsxs)("div",{children:[t.map(h),(0,s.jsx)("button",{onClick:p,children:" + "})]})]})}),(0,s.jsxs)("span",{children:[(0,s.jsx)(l.default,{priority:!0,src:c,alt:"Follow us on Twitter"}),e]})]})})})},7421:function(e,n,t){"use strict";t.r(n),t.d(n,{AuthContext:function(){return i}});var s=t(7437),u=t(2265),r=t(7313);t(2182),t(161);let a=(0,u.createContext)({}),i=()=>(0,u.useContext)(a);n.default=e=>{let{children:n}=e,[t,i]=(0,u.useState)(!0),[o,l]=(0,u.useState)({user:null,isLogin:!1});return(0,u.useEffect)(()=>r.I.onAuthStateChanged(e=>{l({isLogin:!!e,user:e}),i(!1)}),[]),console.log("useState",o.user),(0,s.jsxs)(a.Provider,{value:{user:o,setUser:l},children:[t?(0,s.jsxs)("div",{className:"LoaderScreen",children:[(0,s.jsx)("span",{className:"Loader"})," "]}):null,t?null:n]})}},7313:function(e,n,t){"use strict";t.d(n,{I:function(){return i},db:function(){return o}});var s=t(6142),u=t(2738),r=t(8121);let a=(0,s.ZF)({apiKey:"AIzaSyA9gyR2Vzlx4Wbp0nLY7JnTGPwYk2rkxMQ",authDomain:"scrum-manager-e0978.firebaseapp.com",projectId:"scrum-manager-e0978",storageBucket:"scrum-manager-e0978.appspot.com",messagingSenderId:"116287469649",appId:"1:116287469649:web:582bb4f590465ef21d6070"}),i=(0,u.v0)(a),o=(0,r.ad)(a)},1031:function(){},2182:function(){},8563:function(){},161:function(){}},function(e){e.O(0,[358,54,449,703,971,69,744],function(){return e(e.s=3314)}),_N_E=e.O()}]);